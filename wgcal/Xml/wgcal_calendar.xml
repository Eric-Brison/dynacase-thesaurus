[ZONE WGCAL:WGCAL_HTMLHEAD]
[IFNOT standAlone][ZONE WGCAL:WGCAL_MENU][ENDIF standAlone]

<!-- POPUP DIVISION -->
<div  style="z-index:2000; display:none" id="cellpopup" class="wgcalpopup">
<a href="#" id="addrv" onclick=" closeMenu('cellpopup')">[TEXT:new rendez-vous]</a>
<a href="#" id="cancelevent" onclick="closeMenu('cellpopup')"  >[TEXT:Cancel]</a>
</div> <!-- end POPUP DIVISION -->

<div id="root">
<table style="z-index:2000;" width="100%" cellspacing="0" border="0" id="week">

  <tr height="[WGCAL_U_HLINETITLE]px">
    <td align="center" colspan="[colspan]">
      <table width="100%"  cellspacing="0" border="0"><tr>
      <td align="center" width="30" style="cursor:pointer;" 
          title="[TEXT:prev period]" 
	   onclick="document.location = '[CORE_STANDURL]&app=WGCAL&action=WGCAL_CALENDAR&ts=[pbefore]&sm=[sm]&vm=[vm]&ress=[ress]';" 
          class="WGCAL_Period" onmouseover="this.className='WGCAL_PeriodSelected';" onmouseout="this.className='WGCAL_Period';"><img src="[IMG:wm-pperiod.gif]" height="12px"></td>
       <td align="center" width="30" style="cursor:pointer;" 
          title="[TEXT:current period]" 
          onclick="document.location = '[CORE_STANDURL]&app=WGCAL&action=WGCAL_CALENDAR&sm=[sm]&vm=[vm]&ress=[ress]'"
          class="WGCAL_Period" onmouseover="this.className='WGCAL_PeriodSelected';" onmouseout="this.className='WGCAL_Period';"><img src="[IMG:wm-cperiod.gif]" height="12"></td>
       <td align="center" width="30" style="cursor:pointer;" 
          title="[TEXT:next period]" 
          onclick="document.location = '[CORE_STANDURL]&app=WGCAL&action=WGCAL_CALENDAR&ts=[pafter]&sm=[sm]&vm=[vm]&ress=[ress]';"
          class="WGCAL_Period" onmouseover="this.className='WGCAL_PeriodSelected';" onmouseout="this.className='WGCAL_Period';"><img src="[IMG:wm-nperiod.gif]" height="12"></td>
      <td align="center" class="WGCAL_Period">[TEXT:week] [week] - [month] [year]</td>
      <td align="center" width="50" title="[TEXT:change hours division]">[IFNOT standAlone]<select style="cursor:pointer;" id="iChangeHDiv" onchange="mytoto('WGCAL_U_HOURDIV', [value], 'wgcal_calendar', '[CORE_STANDURL]&app=WGCAL&action=WGCAL_CALENDAR')">[BLOCK CHHDIV]<option value="[value]" [selected]>[descr][ENDBLOCK CHHDIV]</select>[ENDIF standAlone]</td>
      </tr>
      </table> 
     </td>
 </tr>
    
 <tr height="[WGCAL_U_HLINETITLE]px">
    <td width="[hcolsize]%" class="WGCAL_Period"></td>
    [BLOCK DAYS_LINE]<td id="D[IDD]" width="[colsize]%" align="center" class="[CSS]" onclick="ClickCalendarCell('[CORE_STANDURL]',2,[times]);">[LABEL]</td>[ENDBLOCK DAYS_LINE]
 </tr>
[BLOCK HOURS]<tr height="[HLINEHOURS]px">
<td id="L[LID]" width="[hcolsize]%" valign="top" align="right" class="[HCLASS]">[HOURR]</td>[C_LINE]
</tr>[ENDBLOCK HOURS]
</table>[ZONE WGCAL:WGCAL_INFOS]</div>

[ZONE WGCAL:WGCAL_POPUP]
[BLOCK EVENTS]
<div id="evt[RG]"
  onclick="subwindow(400, 650, 'ViewEvent[IDP]', '[CORE_STANDURL]&app=[IF edit]GENERIC&action=GENERIC_EDIT[ENDIF edit][IFNOT edit]FDL&action=[IF vRv]IMPCARD[ENDIF vRv][IFNOT vRv]FDL_CARD[ENDIF vRv][ENDIF edit]&id=[IDP]');"
  onmouseover="WGCalEvOnMouseOver(event, '[RG]');" 
  onmouseout="WGCalEvOnMouseOut(event, '[RG]');" 
  onContextMenu="SetCurrentEvent([IDP], '[TSSTART]'); openMenu(event,'calpopup',[RG]);return false" 
  onMouseDown="if (shiftKeyPushed(event)) { SetCurrentEvent([IDP], '[TSSTART]');openMenu(event,'calpopup',[RG])}"
  style="display:none;overflow:hidden;" class="wEvResume">[EvRCard]</div>

<div id="evtc[RG]" style="display:none; position:relative; padding:3px; overflow:hidden; border:1px outset; background-color:white');">[EvPCard]</div>[ENDBLOCK EVENTS]


<script type="text/javascript"> 
var CurrentTime = -1;
var Days = new Array();
[BLOCK DAYS]
Days[[iday]] = new Object(); Days[[iday]].start  = [days]; Days[[iday]].vstart = [vstart]; Days[[iday]].vend   = [vend]; Days[[iday]].ev = new Array();[ENDBLOCK DAYS]

AltIsFixed = '[ALTFIXED]';
AltTimerValue = '[ALTTIMER]';
WGCalViewInit('[IDSTART]', '[IDSTOP]', [DAYCOUNT], [HCOUNT], [HSTART], [HDIV], [YDURATION]);
WGCalShowR();
[BLOCK EVENTSSC]WGCalAddEvent([RG], [START], [END]);
[ENDBLOCK EVENTSSC]
WGCalDisplayAllEvents();
</script>


[ZONE WGCAL:WGCAL_HTMLFOOT]
