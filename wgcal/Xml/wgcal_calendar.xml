[ZONE WGCAL:WGCAL_HTMLHEAD]
[IFNOT standAlone][ZONE WGCAL:WGCAL_MENU][ENDIF standAlone]

<div onmouseover="closeAllMenu()" id="root">

<div id="headscreen" onmouseover="closeAllMenu()">[ZONE WGCAL:WGCAL_SLIDER]</div>

<table style="z-index:2000;width:100%;" cellspacing="0" id="week">
<thead>
<tr height="[WGCAL_U_HLINETITLE]px">
 <td id="DH" width="5%" class="WGCAL_Period">&nbsp;</td>
[BLOCK DAYS_LINE]<td id="D[IDD]"  align="center" class="[CSS]" onclick="ClickCalendarCell(event,2,[times], [timee]);">[LABEL1]</td>[ENDBLOCK DAYS_LINE]
</tr>
</thead>
<tbody>[BLOCK HOURS]<tr height="[HLINEHOURS]px">
<td id="L[LID]" valign="top" align="right" class="[HCLASS]">[HOURR]</td>[C_LINE]
</tr>[ENDBLOCK HOURS]</tbody>
</table></div>

<div style="display:block" id="fcalDatas"></div>
[ZONE WGCAL:WGCAL_INFOS]

<div style="display:none" id="waitmessage">
  <div style="z-index:1100; border:3px outset white; color:black; background-color:white">
    <img src="[IMG:fcal-wait.gif]"><span id="wmsgtext"></span>
  </div>
</div>

<div style="display:none; z-index:1000; padding:2px; background:white" id="fastedit">
  <div class="fasteditcontent">
  <table>

    <tr><td colspan="2">&nbsp;</td></tr>
    <tr>
      <td>[TEXT:rv title]</td>
      <td><input class="Mandatory" onkeypress="fastEditFSave(event,this)" onchange="fastEditChange(this);" id="fe_title" title="[TEXT:rv title]" type="text" size="40"></td>
    </tr>

<tr><td colspan="2">
<table>
<tr>

<td align="right" nowrap>[TEXT:start date] : </td>
<td align="left" nowrap>
<input type="hidden" value="[js_start]" id="js_start" name="js_start">
<input type="hidden" value="[s_start]" id="s_start" name="s_start" onchange="fcalComputeDateFromStart()">
<span onmouseover="this.className='wTextActive'" onmouseout="this.className='wTextNormal'" id="butstart" name="ButStart" style="cursor:pointer;" title="[TEXT:click here to enter the start date]">
<script>fcalInitCalendar('start');</script>
<img src="[IMG:cal-other.gif]" height="15" >&nbsp;<span id="t_start">[t_start]</span></span>
</td>

<td id="start_hour" align="left" style="visibility:hidden" nowrap>
&nbsp;<select  id="h_start" name="h_start" onchange="fcalComputeDateFromStart();">[BLOCK hs_select]<option value="[optvalue]" [optselect]>[optdescr][ENDBLOCK hs_select]</select> : <select  id="m_start" name="m_start" onchange="fcalComputeDateFromStart();">[BLOCK ms_select]<option value="[optvalue]" [optselect]>[optdescr][ENDBLOCK ms_select]</select>
</td>
</tr>

<tr>
<td align="right" id="end_hour1" style="visibility:hidden" nowrap>[TEXT:end date] : </td>
<td align="left" id="end_hour2" style="visibility:hidden" nowrap>
<input type="hidden" value="[js_end]" id="js_end" name="js_end">
<input type="hidden" value="[s_end]" id="s_end" name="s_end" onchange="fcalComputeDateFromEnd();">
<span onmouseover="this.className='wTextActive'" onmouseout="this.className='wTextNormal'" id="butend" title="[TEXT:click here to enter the end date]">
<script>
      Calendar.setup(
        {
          inputField   : "s_end",        
          displayArea  : "t_end",        
          ifFormat     : "%s",   
          daFormat     : "a %d %b %Y",
          showsTime    : false,
          button       : "butend",
          date         : new Date([js_end]),
          weekNumbers  : false,
          firstDay     : 1
        }
      );
</script>
<script>fcalInitCalendar('end');</script>
<img src="[IMG:cal-other.gif]" height="15">&nbsp;<span id="t_end">[t_end]</span></span>
</td>
<td align="left" id="end_hour3" style="visibility:hidden" nowrap>
&nbsp;<select  id="h_end" name="h_end" onchange="fcalComputeDateFromEnd();">[BLOCK he_select]<option value="[optvalue]" [optselect]>[optdescr][ENDBLOCK he_select]</select> : <select  id="m_end" name="m_end" onchange="fcalComputeDateFromEnd();">[BLOCK me_select]<option value="[optvalue]" [optselect]>[optdescr][ENDBLOCK me_select]</select>
</td>
</tr>

<tr>
<td></td>
<td colspan="2" align="left">

<span id="nohour_span" style="visibility:hidden" onclick="clickB('nohour');fcalNohourClicked(event);" onmouseover="this.className='wTextActive'" onmouseout="this.className='wTextNormal'"><input readonly id="nohour" style="cursor:pointer;" name="nohour" type="checkbox" onclick="clickB('nohour');fcalNohourClicked(event);">
[TEXT:no hour]</span>

<span id="allday_span" style="cursor:pointer; visibility:hidden" onclick="clickB('allday');fcalAlldayClicked(event);"  onmouseover="this.className='wTextActive'" onmouseout="this.className='wTextNormal'">
<input readonly id="allday" style="cursor:pointer;" name="allday" type="checkbox" onclick="clickB('allday');fcalAlldayClicked(event)"></input>[TEXT:all the day]</span>

</td>
</tr>
</table>
</td></tr>

    <tr>
      <td colspan="2">[TEXT:location_1stUpcase] <input class="textBorder" title="[TEXT:locationexplain]"  onchange="fastEditChange(this);" id="fe_location" type="text" size="12"> [TEXT:category] <select onchange="fastEditChange(this);" id="fe_categories">[BLOCK category]<option value="[fe_catv]">[fe_catt][ENDBLOCK category]</td>
    </tr>
    <tr>
      <td align="center" colspan="2"><textarea onchange="fastEditChange(this);" cols="40" title="[TEXT:rv note]" rows="2" id="fe_note" name="fe_note"></textarea></td>
    </tr>
    <tr><td colspan="2">&nbsp;</td></tr>
    <tr>
      <td colspan="2" style="margin-top:1em; border-bottom:2px ridge white; font-style:italic;"><span id="agendaowner"></span> <select id="fe_confidentiality" onchange="fastEditChange(this);" >[BLOCK confid]<option value="[value]" [selected]>[descr][ENDBLOCK confid]</select></td>
    </tr>
    <tr>
     <td align="left"><img height="12px" src="[IMG:wm-evedit.gif]" title="[TEXT:click to open full edition mode]" onclick="fastEditOpenFullEdit();" class="wSmallButton"></td> 
     <td align="right"><img height="12px" src="[IMG:wm-accept.gif]" id="btnSave" style="display:none" title="[TEXT:save]" class="wSmallButton" onclick="fastEditSave(event);">&nbsp;<img height="12px" src="[IMG:wm-cancel.gif]" id="btnCancel" title="[TEXT:cancel]" class="wSmallButton" onclick="fastEditCancel();"></td>
    </tr>
  </table>
  </div>
</div>

<script> 
var UrlRoot = '[CORE_STANDURL]';
var CurrentTime = -1;
var Days = new Array();
[BLOCK DAYS]
Days[[iday]] = { start:[days], vstart:[vstart], vend:[vend], view:[view], cpos:0, ev:[] };[ENDBLOCK DAYS]
[BLOCK EVENTS]
fcalEvents[[rg]] = {  id:[id], idf:[fromid], idp:[evt_idinitiator], idpf:[evt_frominitiatorid],  start:[start], end:[end], title:'[evt_title]', icons: new Array( [icons] ), bgColor:'[bgColor]', fgColor:'[fgColor]', topColor:'[topColor]', rightColor:'[rightColor]', bottomColor:'[bottomColor]', leftColor:'[leftColor]', edit:[editable], display:[displayable], occur:0 };[ENDBLOCK EVENTS]
var AltTimerValue = '[ALTTIMER]';
function displayInit() {
  posM.x = getFrameWidth() / 2;
  posM.y = getFrameHeight() / 2;
  showWaitServerMessage('Loading interface');
  fcalInitView('[IDSTART]', '[IDSTOP]', [DAYCOUNT], [HCOUNT], [HSTART], [HDIV], [YDURATION]);
  fcalInitEvents();
  fcalShowEvents();
  hideWaitServerMessage();
}
addEvent(window, 'load', displayInit );
addEvent(window, 'resize', fcalDisplayInitTempo);
</script>


[ZONE WGCAL:WGCAL_HTMLFOOT]
