<!-- 
  $Id: param_list.xml,v 1.6 2005/06/04 06:35:05 marc Exp $
  $Source: /home/cvsroot/anakeen/freedom/core/Zone/Appmng/param_list.xml,v $
-->
<div id="dedit" style="display:none">
<form name="fedit" id="fedit" method="POST"  action="[CORE_BASEURL]app=APPMNG&action=[ACTIONMOD]">
<input type="hidden" name="appid" >
<input type="hidden" name="atype" >
<input type="hidden" name="aname" >
<input type="text" size="35" name="val" id="val" value="">     
</form>
</div>


<script language="JavaScript">
<!--
[JS:CODE]

var cp = new ColorPicker();
var op = new OptionPicker();

function pickColor(color) {
	document.fedit.val.value = color;
	document.fedit.val.style.backgroundColor=color;
	document.fedit.val.focus();
	}

function pickOption(value) {
	document.fedit.val.value = value;
	document.fedit.val.focus();
	}


var editedParam='';
function movediv(th,Aname,Atype,Appid,Kind,Value) {

  if (Kind == 'static') {
    alert('[TEXT:unmodifiable parameter]');
    return;
  } 

  if ((editedParam != '') && (editedParam.id == th.id)) return;

  // undisplay cell containt
  var kids=th.childNodes;
  for (var i=0; i< kids.length; i++) {
     kids[i].style.display='none';
  }
  document.getElementById('dedit').style.display='block';
  th.appendChild(document.getElementById('dedit'));
  with (document.getElementById('fedit')) {
      appid.value=Appid;
      atype.value=Atype;
      aname.value=Aname;
      val.value=Value;
      val.focus();
      val.select();
  }
  
  // redisplay precedent cell 
  if (editedParam != '') {
     
     var kids=editedParam.childNodes;
     for (var i=0; i< kids.length; i++) {
         kids[i].style.display='inline';
     }
  }

  editedParam=th;
  
  // show color picker if needed
  if (Kind == 'color') cp.show('dedit');
  else if (Kind.substr(0,4) == 'enum') {
     op.show('dedit');
     op.setOptions(Kind.substr(5,Kind.length-6).split('|'));
  }
  
}
function switchVisibility(app) {
  eltApp = document.getElementById(app);
  eltAppP = document.getElementById('P'+app);
  if (eltAppP.style.display == '' ) {
    eltAppP.style.display = 'none';
    eltApp.className = 'CORETblCellAltern';
  } else {
    eltAppP.style.display = '';
    eltApp.className = 'CORETblHeadCell';
  }
}
var AppList = new Array( [AppList] );
function showAllParam() {
  for (iapp in AppList) {
    eltApp = document.getElementById(AppList[iapp]);
    if (!eltApp) {
      //alert(iapp+' '+AppList[iapp]);
    } else {
      eltAppP = document.getElementById('P'+AppList[iapp]);
      eltAppP.style.display = '';
      eltApp.className = 'CORETblHeadCell';
    }
  }
}

//-->
</script>
<style>
TD.highlight {
  background-color: [CORE_BGCOLORHIGH];
  cursor:pointer;
}
TD.static {  
  cursor:not-allowed;
}
</style>
<table align="center" width="90%" border="0" cellspacing="0" cellpadding="0">


<!-- /TABLEPAGING -->

<!-- TABLEHEAD -->
<tr><td colspan="3" class="CORETblHeadCell"><img src="[IMG:1x1.png]" border="0"></td> </tr>

<tr>
  <td width="40" class="CORETblCell">&nbsp;</td>
  <td width="40%"  class="CORETblCell"><span class="CORETblBold">[TEXT:name]</span></td>
  <td  class="CORETblCell"><span class="CORETblBold">[TEXT:val]</span></td>
</tr>

<!-- /TABLEHEAD -->

<tr><td colspan="3" class="CORETblHeadCell"><img src="[IMG:1x1.png]" border="0"></td> </tr>
[BLOCK APPLI] 
<tr title="[appname] : [appdesc]" id="[appname]" style="cursor:pointer;" onclick="switchVisibility('[appname]')" class="CORETblCellAltern">
<td colspan="2" width="15%"><img border="0" width="25" src="[appicon]">[appdesc]</td><td align="right"><!-- [appname] --></td></tr>
<tr><td colspan="3" ><table style="display:none" id="P[appname]" width="100%">
<!-- TABLEBODY -->
[BLOCK [PARAM]]
<tr title="[tooltip]" >
  <td width="5%"  >       
       <a href="[CORE_STANDURL]&app=APPMNG&action=[ACTIONDEL]&id=[name]&appid=[appid]&atype=[type]" onClick="return confirm('[TEXT:delconfirmparam] [name]')"><img class="[classtype]" border=0 src="[IMG:delete.gif]" title="[TEXT:delete]"></a> </td>
  <td  width="40%" class="[classtype]"><span class="CORETbl" style="color:[colorstatic]">[descr]</span></td>
  <td  width="55%" id="v[name]" 
       class="[classtype]";
       onmouseover="if ('[kind]'!='static') this.className='highlight'; else this.className='static'"
       onmouseout="this.className='[classtype]'"
       onclick="movediv(this,'[name]','[type]','[appid]','[kind]','[sval]')"><span style="color:[colorstatic]">[val]</span></td>
</tr>
[ENDBLOCK [PARAM]]
</td></tr></table>
[ENDBLOCK APPLI]
<!-- /TABLEBODY -->

<tr><td colspan="3" class="CORETblHeadCell"><img src="[IMG:1x1.png]" border="0"></td> </tr>



</table>

